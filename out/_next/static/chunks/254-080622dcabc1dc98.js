"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{254:function(t,n,e){e.d(n,{p:function(){return M}});var r,a,i,o=e(6687),s=e(9499),c=e(29),l=e(7794),u=e.n(l),g=e(7294),p=e(108),d={graphqlURL:"http://localhost:1337/graphql"},f=e(1383),m=(0,p.Ps)(a||(a=(0,f.Z)(["\n  fragment logo on Setting {\n    logo {\n      data {\n        id\n        attributes {\n          altText: alternativeText\n          url\n        }\n      }\n    }\n  }\n\n  fragment cover on Post {\n    cover {\n      data {\n        id\n        attributes {\n          altText: alternativeText\n          url\n        }\n      }\n    }\n  }\n\n  fragment menuLink on Setting {\n    menuLink {\n      id\n      link\n      text\n      newTab\n    }\n  }\n\n  fragment tag on Tag {\n    displayName\n    slug\n  }\n\n  fragment author on Author {\n    displayName\n    slug\n  }\n\n  fragment category on Category {\n    displayName: DisplayName\n    slug\n  }\n\n  fragment tags on Post {\n    tags {\n      data {\n        attributes {\n          ...tag\n        }\n      }\n    }\n  }\n\n  fragment authors on Post {\n    author {\n      data {\n        attributes {\n          ...author\n        }\n      }\n    }\n  }\n\n  fragment categories on Post {\n    categories {\n      data {\n        attributes {\n          ...category\n        }\n      }\n    }\n  }\n\n  fragment post on Post {\n    slug\n    title\n    excerpt\n    content\n    allowComments\n    ...cover\n    ...categories\n    ...tags\n    ...authors\n  }\n\n  fragment posts on PostEntityResponseCollection {\n    data {\n      id\n      attributes {\n        ...post\n      }\n    }\n  }\n\n  fragment settings on SettingEntityResponse {\n    data {\n      id\n      attributes {\n        blogName\n        blogDescription\n        ...logo\n        ...menuLink\n        footerText\n      }\n    }\n  }\n"]))),v=(0,p.Ps)(i||(i=(0,f.Z)(["\n  ",'\n  query GET_POSTS(\n    $categorySlug: String\n    $postSlug: String\n    $postSearch: String\n    $authorSlug: String\n    $tagSlug: String\n    $sort: [String] = "createdAt:desc"\n    $start: Int = 0\n    $limit: Int = 10\n  ) {\n    setting {\n      ...settings\n    }\n    posts(\n      pagination: { start: $start, limit: $limit }\n      sort: $sort\n      filters: {\n        slug: { contains: $postSlug }\n        title: { contains: $postSearch }\n        categories: { slug: { contains: $categorySlug } }\n        author: { slug: { contains: $authorSlug } }\n        tags: { slug: { contains: $tagSlug } }\n      }\n    ) {\n      ...posts\n    }\n  }\n'])),m),h=function(t){var n=t.data;if(null===n)return null;var e=n.attributes;return{displayName:e.displayName,slug:e.slug}},b=function(t){var n=t.data;if(null!==n)return n.map(function(t){var n=t.attributes;return{displayName:n.displayName,slug:n.slug}})},y=function(t){var n=t.data;if(n){var e=n.id,r=n.attributes,a=r.altText,i=r.url;return{id:void 0===e?"":e,altText:void 0===a?"":a,url:void 0===i?"":i}}return null},x=function(t){var n=t.data;if(null!==n)return n.map(function(t){var n=t.attributes;return{displayName:n.displayName,slug:n.slug}})},O=function(t){var n=t.data[0],e=n.id,r=n.attributes,a=(r=void 0===r?"":r).altText,i=r.url;return{id:void 0===e?"":e,altText:void 0===a?"":a,url:void 0===i?"":i}},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){var n=t.id,e=t.link,r=t.newTab,a=t.text;return{id:void 0===n?"":n,link:void 0===e?"":e,newTab:void 0!==r&&r,text:void 0===a?"":a}})},w=function(t){var n=t.data,e=n.id,r=n.attributes,a=(r=void 0===r?"":r).blogName,i=r.blogDescription,o=r.logo,s=void 0===o?"":o,c=r.menuLink,l=void 0===c?[]:c,u=r.footerText;return{id:void 0===e?"":e,blogName:void 0===a?"":a,blogDescription:void 0===i?"":i,cover:O(s),menuLink:j(l),footerText:void 0===u?"":u}},P=function(t){var n=t.setting,e=t.posts;return{setting:w(n),posts:e.data.map(function(t){var n=t.id,e=t.attributes,r=e.createdAt,a=e.title,i=e.slug,o=e.excerpt,s=e.content,c=e.allowComments,l=e.cover,u=e.categories,g=e.tags,p=e.author;return{posts:{id:n,title:void 0===a?"":a,slug:void 0===i?"":i,cover:y(l),excerpt:void 0===o?"":o},content:void 0===s?"":s,createdAt:void 0===r?"":r,allowComments:void 0!==c&&c,categories:b(u),tags:x(g),author:h(p)}})}};function S(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function N(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?S(Object(e),!0).forEach(function(n){(0,s.Z)(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):S(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}var k={sort:"createdAt:desc",start:0,limit:3},C=(r=(0,c.Z)(u().mark(function t(){var n,e,r=arguments;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:{},t.next=3,(0,p.WY)(d.graphqlURL,v,N(N({},k),n));case 3:return e=P(t.sent),t.abrupt("return",e);case 6:case"end":return t.stop()}},t)})),function(){return r.apply(this,arguments)}),_=e(3350),Z=e(1664),D=e.n(Z),T=e(6623),$=e(508),E=e(6033),I=e(5038),L=$.ZP.div.withConfig({displayName:"styles__Container",componentId:"sc-8tl4on-0"})(["",""],function(t){var n=t.theme;return(0,$.iv)(["","{margin:calc("," - 0.6rem) 0;}a{text-decoration:none;color:inherit;transition:all 300ms ease-in-out;}&:hover a{color:",";}&:hover img{opacity:0.8;}"],I.D,n.spacings.small,n.colors.secondary)}),q=$.ZP.img.withConfig({displayName:"styles__Cover",componentId:"sc-8tl4on-1"})(["max-width:calc("," * 10);width:100%;max-height:calc("," * 11);height:100%;transition:opacity 300ms ease-in-out;border-radius:4px;border:1px solid #ddd;"],E.r.spacings.xlarge,E.r.spacings.xxsmall),A=$.ZP.p.withConfig({displayName:"styles__Excerpt",componentId:"sc-8tl4on-2"})(["margin:0;"]),z=e(5893),B=function(t){var n=t.posts,e=n.cover,r=n.excerpt,a=n.slug,i=n.title;return(0,z.jsxs)(L,{children:[null!==e&&(0,z.jsx)(D(),{href:"/".concat(a),legacyBehavior:!0,children:(0,z.jsx)("a",{children:(0,z.jsx)(q,{src:e.url,alt:i})})}),(0,z.jsx)(T.X,{as:"h2",size:"small",uppercase:"capitalize",children:(0,z.jsx)(D(),{href:"/".concat(a),legacyBehavior:!0,children:(0,z.jsx)("a",{children:i})})}),(0,z.jsx)(A,{children:r})]})},R=$.ZP.div.withConfig({displayName:"styles__Container",componentId:"sc-ife1h8-0"})(["width:100%;"]),G=$.ZP.p.withConfig({displayName:"styles__NotFound",componentId:"sc-ife1h8-1"})(["",""],function(t){var n=t.theme;return(0,$.iv)(["padding:",";text-align:center;font-size:",";"],n.spacings.large,n.font.sizes.small)}),U=$.ZP.div.withConfig({displayName:"styles__Grid",componentId:"sc-ife1h8-2"})(["",""],function(t){var n=t.theme;return(0,$.iv)(["max-width:120rem;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(28rem,1fr));gap:",";padding:",";@media ","{grid-template-columns:1fr;}"],n.spacings.large,n.spacings.large,n.media.lteSmall)});function F(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}var W=function(t){var n=t.posts,e=void 0===n?[]:n;return(0,z.jsxs)(R,{children:[0===e.length&&(0,z.jsx)(G,{children:"Nenhum post encontrado aqui =( "}),(0,z.jsx)(U,{children:e.length>0&&e.map(function(t){return(0,z.jsx)(B,function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?F(Object(e),!0).forEach(function(n){(0,s.Z)(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):F(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}({},t),"post-card-".concat((0,_.E)("post")))})})]})},X=e(374),Y=$.ZP.div.withConfig({displayName:"styles__ButtonContainer",componentId:"sc-1fdg06h-0"})(["",""],function(t){var n=t.theme;return(0,$.iv)(["padding:0 ",";margin:"," 0;display:flex;justify-content:center;"],n.spacings.large,n.spacings.large)}),H=$.ZP.button.withConfig({displayName:"styles__Button",componentId:"sc-1fdg06h-1"})(["",""],function(t){var n=t.theme;return(0,$.iv)(["background:",";color:",";border:none;padding:"," ",";border-radius:4px;cursor:pointer;&:disabled{background:",";}"],n.colors.primary,n.colors.white,n.spacings.small,n.spacings.large,n.colors.darkerGray)});function J(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function K(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?J(Object(e),!0).forEach(function(n){(0,s.Z)(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):J(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}var M=function(t){var n,e=t.settings,r=t.posts,a=t.variables,i=(0,g.useState)(void 0===r?[]:r),s=i[0],l=i[1],p=(0,g.useState)(a),d=p[0],f=p[1],m=(0,g.useState)(!1),v=m[0],h=m[1],b=(0,g.useState)(!1),y=b[0],x=b[1],O=(n=(0,c.Z)(u().mark(function t(){var n,e;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h(!0),d){t.next=3;break}return t.abrupt("return");case 3:if(!(d.start&&d.limit)){t.next=14;break}return n=K(K({},d),{},{start:d.start+d.limit,limit:d.limit}),t.next=7,C(n);case 7:if(!(!(e=t.sent)||!e.posts||!e.posts.length)){t.next=11;break}return x(!0),t.abrupt("return");case 11:h(!1),f(n),l(function(t){return[].concat((0,o.Z)(t),(0,o.Z)(e.posts))});case 14:case"end":return t.stop()}},t)})),function(){return n.apply(this,arguments)});return(0,z.jsxs)(X.Z,{settings:e,children:[(0,z.jsx)(W,{posts:s}),s&&s.length?(0,z.jsx)(Y,{children:(0,z.jsx)(H,{onClick:O,disabled:v,children:y?"Sem mais posts":"Carregar mais"})}):null]})}}}]);